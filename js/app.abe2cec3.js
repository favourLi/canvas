(function(t){function e(e){for(var n,a,l=e[0],s=e[1],c=e[2],h=0,d=[];h<l.length;h++)a=l[h],o[a]&&d.push(o[a][0]),o[a]=0;for(n in s)Object.prototype.hasOwnProperty.call(s,n)&&(t[n]=s[n]);u&&u(e);while(d.length)d.shift()();return i.push.apply(i,c||[]),r()}function r(){for(var t,e=0;e<i.length;e++){for(var r=i[e],n=!0,l=1;l<r.length;l++){var s=r[l];0!==o[s]&&(n=!1)}n&&(i.splice(e--,1),t=a(a.s=r[0]))}return t}var n={},o={app:0},i=[];function a(e){if(n[e])return n[e].exports;var r=n[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,a),r.l=!0,r.exports}a.m=t,a.c=n,a.d=function(t,e,r){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(a.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)a.d(r,n,function(e){return t[e]}.bind(null,n));return r},a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="/";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],s=l.push.bind(l);l.push=e,l=l.slice();for(var c=0;c<l.length;c++)e(l[c]);var u=s;i.push([0,"chunk-vendors"]),r()})({0:function(t,e,r){t.exports=r("56d7")},"11d9":function(t,e,r){t.exports=r.p+"img/3.a60544bb.jpg"},2856:function(t,e,r){},"56d7":function(t,e,r){"use strict";r.r(e);r("cadf"),r("551c"),r("097d");var n=r("2b0e"),o=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},i=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{attrs:{id:"app"}},[r("canvas",{attrs:{id:"canvas"}})])}],a=(r("6b54"),r("9393")),l=(r("ac4d"),r("8a81"),r("ac6a"),r("6c7b"),r("c665")),s=r("aa9a"),c=(r("a481"),r("11d9"),r("28a5"),function(t){return t.toString().split(",")}),u={name:"app",mounted:function(){var t=document.getElementById("canvas"),e=t.getContext("2d"),r=document.getElementById("app"),n=t.width=window.getComputedStyle(r).width.replace("px",""),o=t.height=window.getComputedStyle(r).height.replace("px",""),i=function(){function t(e,r){Object(l["a"])(this,t),this.options=e,this.ctx=r,this.drawNode()}return Object(s["a"])(t,[{key:"drawNode",value:function(){if(this.ctx.beginPath(),this.ctx.strokeStyle=this.options.border.color,this.ctx.lineWidth=this.options.border.width,this.ctx.arc(this.options.currentPos.x,this.options.currentPos.y,this.options.radius,0,2*Math.PI),this.options.background.color&&(this.ctx.fillStyle=this.options.background.color,this.ctx.fill(),this.ctx.stroke(),this.options.startPos.x&&this.drawLine()),this.options.background.img){this.image=new Image;var t=this;this.ctx.fill(),this.image.onload=function(){t.ctx.globalCompositeOperation="source-atop",t.ctx.drawImage(t.image,t.options.currentPos.x-t.options.radius+2,t.options.currentPos.y-t.options.radius+2,2*t.options.radius-4,2*t.options.radius-4),t.ctx.beginPath(),t.ctx.strokeStyle=t.options.border.color,t.ctx.lineWidth=t.options.border.width,t.ctx.globalCompositeOperation="source-over",t.ctx.arc(t.options.currentPos.x,t.options.currentPos.y,t.options.radius,0,2*Math.PI),t.ctx.stroke()},this.image.src=this.options.background.img,this.options.startPos.x&&this.drawLine()}}},{key:"drawLine",value:function(){this.ctx.globalCompositeOperation="destination-over",this.ctx.beginPath(),this.ctx.moveTo(this.options.currentPos.x,this.options.currentPos.y),this.ctx.lineTo(this.options.startPos.x,this.options.startPos.y),this.ctx.stroke()}}]),t}(),u=function(){function t(e){Object(l["a"])(this,t),this.oldData=JSON.parse(JSON.stringify(e)),this.data=this.transData(this.oldData),this.drawNode(this.data)}return Object(s["a"])(t,[{key:"transData",value:function(t,e){var r=[],i=!0,l=!1,s=void 0;try{for(var c,u=t.entries()[Symbol.iterator]();!(i=(c=u.next()).done);i=!0){var d=Object(a["a"])(c.value,2),p=d[0],f=d[1],v={data:{}};v.data.text=f.text,v.options={currentPos:this.getPos({x:n/2,y:o/2},p,f.level),border:{width:1,color:"#ff0000"},background:{color:h()},radius:20,startPos:e||{}},f.children&&(v.children=this.transData(f.children,v.options.currentPos,t.length)),r.push(v)}}catch(t){l=!0,s=t}finally{try{i||null==u.return||u.return()}finally{if(l)throw s}}return r}},{key:"getPos",value:function(t,e,r){return 0===r?{x:n/2,y:o/2}:{x:n/2-100*Math.cos(Math.PI/6*e),y:o/2-100*Math.sin(Math.PI/6*e)}}},{key:"getY",value:function(t,e,r){var n;n=0===t?0:this.getLevelNum(t-1);var i=o/(n+1)/(e+1)*++r;return console.log(i),i}},{key:"drawNode",value:function(t){var r=!0,n=!1,o=void 0;try{for(var l,s=t.entries()[Symbol.iterator]();!(r=(l=s.next()).done);r=!0){var c=Object(a["a"])(l.value,2),u=(c[0],c[1]);new i(u.options,e);u.children&&this.drawNode(u.children)}}catch(t){n=!0,o=t}finally{try{r||null==s.return||s.return()}finally{if(n)throw o}}}},{key:"getLevelNum",value:function(t){var e=0,r=this.getLevelArr(t,this.oldData),n=!0,o=!1,i=void 0;try{for(var a,l=c(r)[Symbol.iterator]();!(n=(a=l.next()).done);n=!0){var s=a.value;e+=parseInt(s)}}catch(t){o=!0,i=t}finally{try{n||null==l.return||l.return()}finally{if(o)throw i}}return e}},{key:"getLevelArr",value:function(t,e){if(Array.isArray(e)){var r=[];if(0==t)return r.push(e.length);if(e.length){var n=!0,o=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(n=(a=l.next()).done);n=!0){var s=a.value;s.level+1==t?r.push(s.children.length):r.push(this.getLevelArr(t,s.children))}}catch(t){o=!0,i=t}finally{try{n||null==l.return||l.return()}finally{if(o)throw i}}}else r.push(1);return r}}}]),t}();new u([{text:"root",level:0,children:[{text:"child1",level:1,children:[]},{text:"child2",level:1,children:[]},{text:"child3",level:1,children:[]},{text:"child1",level:1,children:[]},{text:"child2",level:1,children:[]},{text:"child3",level:1,children:[]},{text:"child1",level:1,children:[]},{text:"child2",level:1,children:[]},{text:"child3",level:1,children:[]},{text:"child1",level:1,children:[]},{text:"child2",level:1,children:[]},{text:"child3",level:1,children:[]}]}]);function h(){return"#"+parseInt(265*Math.random()).toString(16)+parseInt(265*Math.random()).toString(16)+parseInt(265*Math.random()).toString(16)}}},h=u,d=(r("5c0b"),r("2877")),p=Object(d["a"])(h,o,i,!1,null,null,null);p.options.__file="App.vue";var f=p.exports;n["a"].config.productionTip=!1,new n["a"]({render:function(t){return t(f)}}).$mount("#app")},"5c0b":function(t,e,r){"use strict";var n=r("2856"),o=r.n(n);o.a}});
//# sourceMappingURL=app.abe2cec3.js.map